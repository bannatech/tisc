# Tiny Instruction Set Computer

This is a for-fun implementation of a relatively simple micro-architecture, with
an assembler to program the simulated implementation in [Logisim](http://www.cburch.com/logisim/).

![TISC v2.3](Screenshots/tiscv2_3.png)

My goal with this project is to aim for an instruction set architecture that is
focused on minimal scale. I've [written about the first ressurection of this
project on my blog](https://banna.tech/post/dusty_digital_and_forgotten_ideas/)
before and I am sporatically finding ways to explore the original idea of
"minimal scale" through modifications and continuation of work contained within
this repository.


## Want to play with it too?

The default program loaded in the ExampleConfigurationROM circuit is the
`ExamplePrograms/terminal_test.tac` program. The program is an interactive demo
which processes text input from the keyboard component and echoes the text out
to the TTY component. The 32 characters are buffered and compared to existing
command strings with routines to execute per each command string.

![TISC Example configuration](Screenshots/tiscv2_3_example.png)

## Compiling the assembler

To compile the assembler, I recommend using GCC:

	$ gcc tisc.c -o tisc

## Using the assembler

Once the assembler is compiled, you can assemble TISC assembly code like so:

	$ tisc <input file> <output file>

If the assembler found no errors in the code, the output file will contain the
program that is ready to load into the Logisim circuit.

A successful output will appear like this:

	$ ./tisc ExamplePrograms/fibb_test.tac out
	Assembling tac file: 'ExamplePrograms/fibb_test.tac' TISC v2.3
	label line  addr:out>op         args
	      0003  0000:43| li 254
	            0001:fe| +
	      0004  0002:9f| sp GRA
	      0006  0003:c2| cin        NIL     GRC
	loop  0008  0004:ab| sb GRB
	      0010  0005:30| sop_xor
	      0011  0006:fa| op GRB     GRC     GRC
	      0012  0007:ba| op GRB     GRC     GRB
	      0013  0008:fa| op GRB     GRC     GRC
	      0015  0009:00| sop_add
	      0016  000a:ba| op GRB     GRC     GBR
	      0018  000b:fb| cmp        GRB     GRC
	      0019  000c:83| jmp        loop
	            000d:04| +
	      0021  000e:ab| sb GRB
	end   0022  000f:83| jmp        end
	end         0010:0f| +
	Finished assembling tac file: 'ExamplePrograms/fibb_test.tac', program size: 17 bytes

## Loading a program

The provided example application in the circuit ExampleConfigurationROM is a 
configuration with memory-mapped I/O. The I/O at memory address 0xFF is a ROM 
that acts as the program memory. Left-clicking on the component and selecting
'Load Image' will allow you to load memory images generated by the assembler. 
